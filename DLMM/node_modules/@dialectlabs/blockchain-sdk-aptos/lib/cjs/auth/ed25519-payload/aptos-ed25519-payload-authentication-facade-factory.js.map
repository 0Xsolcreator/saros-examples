{"version":3,"file":"aptos-ed25519-payload-authentication-facade-factory.js","sourceRoot":"","sources":["../../../../src/auth/ed25519-payload/aptos-ed25519-payload-authentication-facade-factory.ts"],"names":[],"mappings":";;;AAAA,0CAK0B;AAE1B,mGAA4F;AAE5F,mGAA4F;AAC5F,uGAA+F;AAE/F,MAAa,8CAA+C,SAAQ,iCAA2B;IAC7F,YAA6B,WAA2C;QACtE,KAAK,EAAE,CAAC;QADmB,gBAAW,GAAX,WAAW,CAAgC;IAExE,CAAC;IAED,MAAM,CAAC,mBAAmB;QACxB,OAAO,IAAI,mBAAa,CACtB,IAAI,iBAAW,CAAC,IAAI,4EAAkC,EAAE,CAAC,EACzD,IAAI,yEAAiC,EAAE,CACxC,CAAC;IACJ,CAAC;IAED,GAAG;QACD,OAAO,IAAI,0BAAoB,CAC7B,IAAI,CAAC,WAAW,EAChB,IAAI,yEAAiC,CAAC,IAAI,CAAC,WAAW,CAAC,EACvD,8CAA8C,CAAC,mBAAmB,EAAE,CACrE,CAAC;IACJ,CAAC;CACF;AAnBD,wGAmBC","sourcesContent":["import {\n  AuthenticationFacade,\n  AuthenticationFacadeFactory,\n  Authenticator,\n  TokenParser,\n} from '@dialectlabs/sdk';\n\nimport { AptosEd25519PayloadTokenValidator } from './aptos-ed25519-payload-token-validator';\nimport type { AptosEd25519PayloadTokenSigner } from './aptos-ed25519-payload-token-signer';\nimport { AptosEd25519PayloadTokenGenerator } from './aptos-ed25519-payload-token-generator';\nimport { AptosEd25519PayloadTokenBodyParser } from './aptos-ed25519-payload-token-body-parser';\n\nexport class AptosEd25519PayloadAuthenticationFacadeFactory extends AuthenticationFacadeFactory {\n  constructor(private readonly tokenSigner: AptosEd25519PayloadTokenSigner) {\n    super();\n  }\n\n  static createAuthenticator(): Authenticator {\n    return new Authenticator(\n      new TokenParser(new AptosEd25519PayloadTokenBodyParser()),\n      new AptosEd25519PayloadTokenValidator(),\n    );\n  }\n\n  get(): AuthenticationFacade {\n    return new AuthenticationFacade(\n      this.tokenSigner,\n      new AptosEd25519PayloadTokenGenerator(this.tokenSigner),\n      AptosEd25519PayloadAuthenticationFacadeFactory.createAuthenticator(),\n    );\n  }\n}\n"]}