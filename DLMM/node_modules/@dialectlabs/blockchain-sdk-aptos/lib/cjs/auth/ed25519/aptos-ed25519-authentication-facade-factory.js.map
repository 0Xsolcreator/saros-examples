{"version":3,"file":"aptos-ed25519-authentication-facade-factory.js","sourceRoot":"","sources":["../../../../src/auth/ed25519/aptos-ed25519-authentication-facade-factory.ts"],"names":[],"mappings":";;;AAAA,0CAO0B;AAE1B,mFAA6E;AAG7E,MAAa,uCAAwC,SAAQ,iCAA2B;IACtF,YAA6B,WAAoC;QAC/D,KAAK,EAAE,CAAC;QADmB,gBAAW,GAAX,WAAW,CAAyB;IAEjE,CAAC;IAED,MAAM,CAAC,mBAAmB;QACxB,OAAO,IAAI,mBAAa,CACtB,IAAI,iBAAW,CAAC,IAAI,4BAAsB,EAAE,CAAC,EAC7C,IAAI,0DAA0B,EAAE,CACjC,CAAC;IACJ,CAAC;IAED,GAAG;QACD,OAAO,IAAI,0BAAoB,CAC7B,IAAI,CAAC,WAAW,EAChB,IAAI,2BAAqB,CAAC,IAAI,CAAC,WAAW,CAAC,EAC3C,uCAAuC,CAAC,mBAAmB,EAAE,CAC9D,CAAC;IACJ,CAAC;CACF;AAnBD,0FAmBC","sourcesContent":["import {\n  AuthenticationFacade,\n  AuthenticationFacadeFactory,\n  Authenticator,\n  DefaultTokenGenerator,\n  Ed25519TokenBodyParser,\n  TokenParser,\n} from '@dialectlabs/sdk';\n\nimport { AptosEd25519TokenValidator } from './aptos-ed25519-token-validator';\nimport type { AptosEd25519TokenSigner } from './aptos-ed25519-token-signer';\n\nexport class AptosEd25519AuthenticationFacadeFactory extends AuthenticationFacadeFactory {\n  constructor(private readonly tokenSigner: AptosEd25519TokenSigner) {\n    super();\n  }\n\n  static createAuthenticator(): Authenticator {\n    return new Authenticator(\n      new TokenParser(new Ed25519TokenBodyParser()),\n      new AptosEd25519TokenValidator(),\n    );\n  }\n\n  get(): AuthenticationFacade {\n    return new AuthenticationFacade(\n      this.tokenSigner,\n      new DefaultTokenGenerator(this.tokenSigner),\n      AptosEd25519AuthenticationFacadeFactory.createAuthenticator(),\n    );\n  }\n}\n"]}