{"version":3,"file":"aptos-ed25519-payload-authentication-facade-factory.js","sourceRoot":"","sources":["../../../../src/auth/ed25519-payload/aptos-ed25519-payload-authentication-facade-factory.ts"],"names":[],"mappings":"AAAA,OAAO,EACL,oBAAoB,EACpB,2BAA2B,EAC3B,aAAa,EACb,WAAW,GACZ,MAAM,kBAAkB,CAAC;AAE1B,OAAO,EAAE,iCAAiC,EAAE,MAAM,yCAAyC,CAAC;AAE5F,OAAO,EAAE,iCAAiC,EAAE,MAAM,yCAAyC,CAAC;AAC5F,OAAO,EAAE,kCAAkC,EAAE,MAAM,2CAA2C,CAAC;AAE/F,MAAM,OAAO,8CAA+C,SAAQ,2BAA2B;IAC7F,YAA6B,WAA2C;QACtE,KAAK,EAAE,CAAC;QADmB,gBAAW,GAAX,WAAW,CAAgC;IAExE,CAAC;IAED,MAAM,CAAC,mBAAmB;QACxB,OAAO,IAAI,aAAa,CACtB,IAAI,WAAW,CAAC,IAAI,kCAAkC,EAAE,CAAC,EACzD,IAAI,iCAAiC,EAAE,CACxC,CAAC;IACJ,CAAC;IAED,GAAG;QACD,OAAO,IAAI,oBAAoB,CAC7B,IAAI,CAAC,WAAW,EAChB,IAAI,iCAAiC,CAAC,IAAI,CAAC,WAAW,CAAC,EACvD,8CAA8C,CAAC,mBAAmB,EAAE,CACrE,CAAC;IACJ,CAAC;CACF","sourcesContent":["import {\n  AuthenticationFacade,\n  AuthenticationFacadeFactory,\n  Authenticator,\n  TokenParser,\n} from '@dialectlabs/sdk';\n\nimport { AptosEd25519PayloadTokenValidator } from './aptos-ed25519-payload-token-validator';\nimport type { AptosEd25519PayloadTokenSigner } from './aptos-ed25519-payload-token-signer';\nimport { AptosEd25519PayloadTokenGenerator } from './aptos-ed25519-payload-token-generator';\nimport { AptosEd25519PayloadTokenBodyParser } from './aptos-ed25519-payload-token-body-parser';\n\nexport class AptosEd25519PayloadAuthenticationFacadeFactory extends AuthenticationFacadeFactory {\n  constructor(private readonly tokenSigner: AptosEd25519PayloadTokenSigner) {\n    super();\n  }\n\n  static createAuthenticator(): Authenticator {\n    return new Authenticator(\n      new TokenParser(new AptosEd25519PayloadTokenBodyParser()),\n      new AptosEd25519PayloadTokenValidator(),\n    );\n  }\n\n  get(): AuthenticationFacade {\n    return new AuthenticationFacade(\n      this.tokenSigner,\n      new AptosEd25519PayloadTokenGenerator(this.tokenSigner),\n      AptosEd25519PayloadAuthenticationFacadeFactory.createAuthenticator(),\n    );\n  }\n}\n"]}