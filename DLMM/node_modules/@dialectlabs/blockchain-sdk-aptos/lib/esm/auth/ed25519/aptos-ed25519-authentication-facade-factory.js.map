{"version":3,"file":"aptos-ed25519-authentication-facade-factory.js","sourceRoot":"","sources":["../../../../src/auth/ed25519/aptos-ed25519-authentication-facade-factory.ts"],"names":[],"mappings":"AAAA,OAAO,EACL,oBAAoB,EACpB,2BAA2B,EAC3B,aAAa,EACb,qBAAqB,EACrB,sBAAsB,EACtB,WAAW,GACZ,MAAM,kBAAkB,CAAC;AAE1B,OAAO,EAAE,0BAA0B,EAAE,MAAM,iCAAiC,CAAC;AAG7E,MAAM,OAAO,uCAAwC,SAAQ,2BAA2B;IACtF,YAA6B,WAAoC;QAC/D,KAAK,EAAE,CAAC;QADmB,gBAAW,GAAX,WAAW,CAAyB;IAEjE,CAAC;IAED,MAAM,CAAC,mBAAmB;QACxB,OAAO,IAAI,aAAa,CACtB,IAAI,WAAW,CAAC,IAAI,sBAAsB,EAAE,CAAC,EAC7C,IAAI,0BAA0B,EAAE,CACjC,CAAC;IACJ,CAAC;IAED,GAAG;QACD,OAAO,IAAI,oBAAoB,CAC7B,IAAI,CAAC,WAAW,EAChB,IAAI,qBAAqB,CAAC,IAAI,CAAC,WAAW,CAAC,EAC3C,uCAAuC,CAAC,mBAAmB,EAAE,CAC9D,CAAC;IACJ,CAAC;CACF","sourcesContent":["import {\n  AuthenticationFacade,\n  AuthenticationFacadeFactory,\n  Authenticator,\n  DefaultTokenGenerator,\n  Ed25519TokenBodyParser,\n  TokenParser,\n} from '@dialectlabs/sdk';\n\nimport { AptosEd25519TokenValidator } from './aptos-ed25519-token-validator';\nimport type { AptosEd25519TokenSigner } from './aptos-ed25519-token-signer';\n\nexport class AptosEd25519AuthenticationFacadeFactory extends AuthenticationFacadeFactory {\n  constructor(private readonly tokenSigner: AptosEd25519TokenSigner) {\n    super();\n  }\n\n  static createAuthenticator(): Authenticator {\n    return new Authenticator(\n      new TokenParser(new Ed25519TokenBodyParser()),\n      new AptosEd25519TokenValidator(),\n    );\n  }\n\n  get(): AuthenticationFacade {\n    return new AuthenticationFacade(\n      this.tokenSigner,\n      new DefaultTokenGenerator(this.tokenSigner),\n      AptosEd25519AuthenticationFacadeFactory.createAuthenticator(),\n    );\n  }\n}\n"]}